#!/bin/bash
# –°–æ–∑–¥–∞—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è —Å–ª–∞–π–¥–æ–≤

# –¶–≤–µ—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–∞–π–¥–∞
declare -A COLORS=(
    ["slide-1.png"]="#FF6B6B"  # –ö—Ä–∞—Å–Ω—ã–π - –¢–µ—Å—Ç—ã
    ["slide-2.png"]="#4ECDC4"  # –ë–∏—Ä—é–∑–æ–≤—ã–π - –¢—Ä–µ–∫–µ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è
    ["slide-3.png"]="#95E1D3"  # –°–≤–µ—Ç–ª–æ-–∑–µ–ª—ë–Ω—ã–π - –°—Ç–∞—Ç—å–∏
    ["slide-4.png"]="#F38181"  # –†–æ–∑–æ–≤—ã–π - –ê—É–¥–∏–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
    ["slide-5.png"]="#AA96DA"  # –§–∏–æ–ª–µ—Ç–æ–≤—ã–π - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∏—Ç–º—ã
    ["slide-6.png"]="#FCBAD3"  # –°–≤–µ—Ç–ª–æ-—Ä–æ–∑–æ–≤—ã–π - –ú–µ–¥–∏—Ç–∞—Ü–∏–∏
    ["slide-7.png"]="#A8D8EA"  # –ì–æ–ª—É–±–æ–π - –ü—Ä–∞–∫—Ç–∏–∫–∏ —Å–∞–º–æ–ø–æ–º–æ—â–∏
)

# –¢–µ–∫—Å—Ç—ã
declare -A TEXTS=(
    ["slide-1.png"]="–¢–ï–°–¢–´"
    ["slide-2.png"]="–¢–†–ï–ö–ï–†"
    ["slide-3.png"]="–°–¢–ê–¢–¨–ò"
    ["slide-4.png"]="–ê–£–î–ò–û"
    ["slide-5.png"]="–†–ò–¢–ú–´"
    ["slide-6.png"]="–ú–ï–î–ò–¢–ê–¶–ò–ò"
    ["slide-7.png"]="–ü–†–ê–ö–¢–ò–ö–ò"
)

for filename in "${!COLORS[@]}"; do
    color="${COLORS[$filename]}"
    text="${TEXTS[$filename]}"
    
    # –°–æ–∑–¥–∞—ë–º SVG
    svg_file="${filename%.png}.svg"
    cat > "$svg_file" << SVG
<svg width="303" height="533" xmlns="http://www.w3.org/2000/svg">
  <rect width="303" height="533" fill="$color"/>
  <text x="151.5" y="266.5" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="white" text-anchor="middle" dominant-baseline="middle">$text</text>
</svg>
SVG
    
    # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º SVG –≤ PNG –∏—Å–ø–æ–ª—å–∑—É—è sips (macOS) –∏–ª–∏ –¥—Ä—É–≥–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
    if command -v sips &> /dev/null; then
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º sips –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
        sips -s format png "$svg_file" --out "$filename" &> /dev/null || {
            # –ï—Å–ª–∏ sips –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SVG, —Å–æ–∑–¥–∞—ë–º –ø—Ä–æ—Å—Ç–æ–π PNG —á–µ—Ä–µ–∑ ImageMagick –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±
            echo "‚ö†Ô∏è  –ù–µ —É–¥–∞–ª–æ—Å—å –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å $svg_file, –∏—Å–ø–æ–ª—å–∑—É–µ–º SVG –Ω–∞–ø—Ä—è–º—É—é"
        }
    fi
done

# –ï—Å–ª–∏ sips –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª, –∏—Å–ø–æ–ª—å–∑—É–µ–º SVG –Ω–∞–ø—Ä—è–º—É—é
echo "‚úÖ –°–æ–∑–¥–∞–Ω—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è —Å–ª–∞–π–¥–æ–≤"
echo "üìù –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ Figma —Å–º. MANUAL_EXPORT.md"
